import{r as n,a as V}from"./index-76fb7be0.js";import{N as I,b as K,c as N,u as A,d as j,e as z,f as k,D as B,g as W,R as G,h as H}from"./index-37a28390.js";/**
 * React Router DOM v6.18.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function x(){return x=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},x.apply(this,arguments)}function X(e,r){if(e==null)return{};var t={},a=Object.keys(e),s,o;for(o=0;o<a.length;o++)s=a[o],!(r.indexOf(s)>=0)&&(t[s]=e[s]);return t}function q(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function J(e,r){return e.button===0&&(!r||r==="_self")&&!q(e)}function U(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((r,t)=>{let a=e[t];return r.concat(Array.isArray(a)?a.map(s=>[t,s]):[[t,a]])},[]))}function Q(e,r){let t=U(e);return r&&r.forEach((a,s)=>{t.has(s)||r.getAll(s).forEach(o=>{t.append(s,o)})}),t}const Y=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],Z=n.createContext({isTransitioning:!1}),$=n.createContext(new Map),ee="startTransition",F=V[ee];function te(e){F?F(e):e()}class ne{constructor(){this.status="pending",this.promise=new Promise((r,t)=>{this.resolve=a=>{this.status==="pending"&&(this.status="resolved",r(a))},this.reject=a=>{this.status==="pending"&&(this.status="rejected",t(a))}})}}function ce(e){let{fallbackElement:r,router:t,future:a}=e,[s,o]=n.useState(t.state),[c,d]=n.useState(),[f,i]=n.useState({isTransitioning:!1}),[u,w]=n.useState(),[m,y]=n.useState(),[v,b]=n.useState(),R=n.useRef(new Map),{v7_startTransition:P}=a||{},T=n.useCallback(l=>{P?te(l):l()},[P]),h=n.useCallback((l,S)=>{let{deletedFetchers:p,unstable_viewTransitionOpts:E}=S;p.forEach(C=>R.current.delete(C)),l.fetchers.forEach((C,M)=>{C.data!==void 0&&R.current.set(M,C.data)}),!E||t.window==null||typeof t.window.document.startViewTransition!="function"?T(()=>o(l)):m&&u?(u.resolve(),m.skipTransition(),b({state:l,currentLocation:E.currentLocation,nextLocation:E.nextLocation})):(d(l),i({isTransitioning:!0,currentLocation:E.currentLocation,nextLocation:E.nextLocation}))},[t.window,m,u,R,T]);n.useLayoutEffect(()=>t.subscribe(h),[t,h]),n.useEffect(()=>{f.isTransitioning&&w(new ne)},[f.isTransitioning]),n.useEffect(()=>{if(u&&c&&t.window){let l=c,S=u.promise,p=t.window.document.startViewTransition(async()=>{T(()=>o(l)),await S});p.finished.finally(()=>{w(void 0),y(void 0),d(void 0),i({isTransitioning:!1})}),y(p)}},[T,c,u,t.window]),n.useEffect(()=>{u&&c&&s.location.key===c.location.key&&u.resolve()},[u,m,s.location,c]),n.useEffect(()=>{!f.isTransitioning&&v&&(d(v.state),i({isTransitioning:!0,currentLocation:v.currentLocation,nextLocation:v.nextLocation}),b(void 0))},[f.isTransitioning,v]);let g=n.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:l=>t.navigate(l),push:(l,S,p)=>t.navigate(l,{state:S,preventScrollReset:p==null?void 0:p.preventScrollReset}),replace:(l,S,p)=>t.navigate(l,{replace:!0,state:S,preventScrollReset:p==null?void 0:p.preventScrollReset})}),[t]),L=t.basename||"/",D=n.useMemo(()=>({router:t,navigator:g,static:!1,basename:L}),[t,g,L]);return n.createElement(n.Fragment,null,n.createElement(B.Provider,{value:D},n.createElement(W.Provider,{value:s},n.createElement($.Provider,{value:R.current},n.createElement(Z.Provider,{value:f},n.createElement(G,{basename:L,location:s.location,navigationType:s.historyAction,navigator:g},s.initialized?n.createElement(re,{routes:t.routes,state:s}):r))))),null)}function re(e){let{routes:r,state:t}=e;return H(r,void 0,t)}const ae=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",se=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ue=n.forwardRef(function(r,t){let{onClick:a,relative:s,reloadDocument:o,replace:c,state:d,target:f,to:i,preventScrollReset:u,unstable_viewTransition:w}=r,m=X(r,Y),{basename:y}=n.useContext(I),v,b=!1;if(typeof i=="string"&&se.test(i)&&(v=i,ae))try{let h=new URL(window.location.href),g=i.startsWith("//")?new URL(h.protocol+i):new URL(i),L=K(g.pathname,y);g.origin===h.origin&&L!=null?i=L+g.search+g.hash:b=!0}catch{}let R=N(i,{relative:s}),P=ie(i,{replace:c,state:d,target:f,preventScrollReset:u,relative:s,unstable_viewTransition:w});function T(h){a&&a(h),h.defaultPrevented||P(h)}return n.createElement("a",x({},m,{href:v||R,onClick:b||o?a:T,ref:t,target:f}))});var O;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(O||(O={}));var _;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(_||(_={}));function ie(e,r){let{target:t,replace:a,state:s,preventScrollReset:o,relative:c,unstable_viewTransition:d}=r===void 0?{}:r,f=A(),i=j(),u=z(e,{relative:c});return n.useCallback(w=>{if(J(w,t)){w.preventDefault();let m=a!==void 0?a:k(i)===k(u);f(e,{replace:m,state:s,preventScrollReset:o,relative:c,unstable_viewTransition:d})}},[i,f,u,a,s,t,e,o,c,d])}function fe(e){let r=n.useRef(U(e)),t=n.useRef(!1),a=j(),s=n.useMemo(()=>Q(a.search,t.current?null:r.current),[a.search]),o=A(),c=n.useCallback((d,f)=>{const i=U(typeof d=="function"?d(s):d);t.current=!0,o("?"+i,f)},[o,s]);return[s,c]}export{ue as L,ce as R,fe as u};
//# sourceMappingURL=index-0d2ac839.js.map
